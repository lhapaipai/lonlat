{
  "version": 8,
  "name": "PCI",
  "glyphs": "https://data.geopf.fr/annexes/ressources/vectorTiles/fonts/{fontstack}/{range}.pbf",
  "sources": {
    "pci": {
      "type": "vector",
      "tiles": ["https://data.geopf.fr/tms/1.0.0/PCI/{z}/{x}/{y}.pbf"],
      "scheme": "xyz",
      "url": "https://data.geopf.fr/tms/1.0.0/PCI/metadata.json",
      "minzoom": 15
    }
  },
  "transition": {
    "duration": 300,
    "delay": 0
  },
  "layers": [
    {
      "id": "pci_parcelle_fill",
      "type": "fill",
      "source": "pci",
      "source-layer": "parcelle",
      "minzoom": 15,
      "maxzoom": 17,
      "paint": {
        "fill-color": "#ff8000",
        "fill-opacity": 0.2
      }
    },
    {
      "id": "pci_parcelle-limit",
      "type": "line",
      "source": "pci",
      "source-layer": "parcelle",
      "paint": {
        "line-color": "#ff8000",
        "line-width": 1
      },
      "layout": { "line-join": "bevel" },
      "minzoom": 15,
      "maxzoom": 17
    },
    {
      "id": "pci_parcelle",
      "type": "line",
      "source": "pci",
      "source-layer": "parcelle",
      "paint": {
        "line-color": "#ff8000",
        "line-width": 3
      },
      "layout": { "line-join": "bevel" },
      "minzoom": 17,
      "maxzoom": 21
    },
    {
      "id": "pci_batiment",
      "type": "fill",
      "source": "pci",
      "source-layer": "batiment",
      "minzoom": 17,
      "paint": {
        "fill-color": "#dfccff",
        "fill-opacity": 0.4
      }
    },
    {
      "id": "pci_batiment_line",
      "type": "line",
      "source": "pci",
      "source-layer": "batiment",
      "paint": { "line-color": "#b580ff" },
      "layout": { "line-join": "bevel" },
      "minzoom": 17
    },
    {
      "id": "pci_batiment-leger",
      "type": "fill",
      "source": "pci",
      "source-layer": "batiment",
      "minzoom": 17,
      "filter": ["==", "type", "Construction légère"],
      "paint": {
        "fill-color": "#DFCCFF",
        "fill-opacity": 0.4
      }
    },
    {
      "id": "pci_batiment-dur",
      "type": "fill",
      "source": "pci",
      "source-layer": "batiment",
      "minzoom": 17,
      "paint": {
        "fill-color": "#C17C74",
        "fill-opacity": 0.4
      },
      "filter": ["==", "type", "Bâtiment en dur"]
    },
    {
      "id": "pci_borne",
      "type": "circle",
      "source": "pci",
      "source-layer": "borne_limite_propriete",
      "maxzoom": 24,
      "minzoom": 17,
      "paint": {
        "circle-color": "#ff8000",
        "circle-stroke-color": "#000000",
        "circle-stroke-width": 1
      }
    },
    {
      "id": "pci_feuille",
      "type": "line",
      "source": "pci",
      "source-layer": "feuille",
      "paint": {
        "line-color": "#929292",
        "line-width": 3
      },
      "minzoom": 14,
      "maxzoom": 24,
      "layout": {
        "line-cap": "butt",
        "line-join": "bevel"
      }
    },
    {
      "id": "pci_feuille_label",
      "type": "symbol",
      "source": "pci",
      "source-layer": "feuille",
      "layout": {
        "text-field": "{section}",
        "text-font": ["Source Sans Pro Bold Italic"],
        "text-size": 14
      },
      "paint": {
        "text-color": "#929292",
        "text-halo-color": "#ffffff",
        "text-halo-width": 2
      },
      "minzoom": 14,
      "maxzoom": 17
    },
    {
      "id": "pci_localisant",
      "type": "symbol",
      "source": "pci",
      "source-layer": "localisant",
      "minzoom": 17,
      "maxzoom": 21,
      "layout": {
        "text-field": "{numero}",
        "text-size": 14,
        "text-anchor": "center",
        "text-keep-upright": true,
        "text-max-angle": 45,
        "text-padding": 1,
        "text-font": ["Source Sans Pro Bold Italic"]
      },
      "paint": {
        "text-color": "#6a00ff",
        "text-halo-color": "#ffffff",
        "text-halo-width": 2
      }
    }
  ]
}
